# Загрузка ОС  
*NB Процесс загрузки ОС зависит от архитектуры и платформы, так что информация будет в обобщенном виде*  
Итак, подаем питание на процессор.  
## Первая инструкция  
Если архитектура x86, то проц обращается по адресу 0xFFFFFFF0 для ее выполнения. Отвечает ему при этом не память, а материнская карта.  
Это связано с тем, что процессор "видит" мир через набор своих контактов, запрос к памяти не более, чем набор сигналов на этих контактах. 
Процессор мы кладем в сокет в материнской карте, поэтому она видит все запросы, посылаемые процессором и может как передать их в память, так и ответить на них 
самостоятельно.  
Отвечает материнская плата кодом, который в ней зашит. Два наиболее частых названия этого кода:
* BIOS (Basic Input/Output System) - наследство IBM PC  
* UEFI (Unified Extensible Firmware Interface) - сложный, про него говорить не будем  
## BIOS  
***С чего начинает свою работу BIOS?***  
С POST (Power-On Self-Test) - проверяет что все необходимые устройства на месте, работают корректно. Кроме этого, на этом этапе может выполняться начальная 
инициализация устройств, а также осуществляется поиск загрузочного устройства (диска с ОС).  
***Как BIOS ищет загрузочный диск?***  
Во-первых, BIOS ищет диск, с которого можно безошибочно прочитать первые 512 байт (первый сектор a.k.a загрузочный). В этом секторе последние 2 байта должны хранить 
числа 0x55 и 0xAA. Если такой сектор найден, он загружается в память по физическому адресу 0x7c00, и BIOS передает ему управление.  
## Окружение  
Теперь мы знаем, куда положить наш код и в каком виде, чтобы он запустился. Но возникает вопрос:  
***В каком окружении он будет работать (в каком состоянии находится процессор ...)?***  
Нам известно, что код начинается по **физическому адресу** 0x7c00 (то есть процессор выставил этот адрес на своих "ногах" (выходах), когда обращается к памяти. Т.е. 
это адрес, указанный в запросе процессора к внешнему устройству (внешней памяти)).  
*NB **Логический адрес** - адрес в том виде, в котором его понимает программа, исполняющаяся на процессоре. Физический адрес не обязательно совпадает с логическим.*  
Также мы знаем, что часть устройств как-то инициализированы, а прерывания отключены.  
Процессор же работает в режиме *Real Mode*. Ранее в блоке про ассемблер для x86 рассматривали только 64-битный режим работы (*Long mode*).  
## Real Mode  
Отличия от Long mode:  
* Логический адрес состоит из 2-х частей:
  + 16-битного сегмента (SEG) и 16-битного смещения (OFF)
