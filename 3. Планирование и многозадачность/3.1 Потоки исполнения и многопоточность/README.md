# Потоки исполнения и многопоточность  
**Поток исполнения** - код и его состояние (или контекст).  
*Код* в данном случае - набор инструкций в памяти, на который указвает регистр RIP.  
*Контекст* - данные, над которыми работают инструкции кода (содержимое регистров общего назначения и содержимое памяти).  

Каждый поток работает в контексте некоторого процесса, то есть он "живет" в логическом адресном пространстве процесса. Несколько потоков могут работать и пользоваться общей памятью 
в рамках одного процесса. При этом процесс всегда имеет как минимум один поток. Это связано с тем, что процесс - та сущность, которой мы выделяем ресурсы, а поток - 
та сущность, которая их использует.  
## Стек потока  
Каждый поток имеет свой собственный стек (иначе потоки мешали бы друг другу при вызове `call` и `retq`), в котором хранятся адреса возврата и локальные переменные. 
Для процессора стек - место в памяти, на которое указывает RSP (в x86).  
## Многопоточность  
В системе могут одновременно работать несколько потоков исполнения:
+ На нескольких ядрах процессора
+ На нескольких процессорах
+ На одном ядре, создавая иллюзию одновременной работы  
***Как создать такую иллюзию?***
Пусть есть несколько задач, каждая выполняется в своем потоке.
* Можем выполнять их поочереди. Если исполняются они продолжительно, то многопоточнойстью это будет не назвать
* Можем разделить задачи на части и выполнять части по очереди. Если они достаточно маленькие, для пользователя создастся иллюзия многопоточности
